# basicio_shinobu_v3

TWELITEによるデータ測定・転送を行い、上位システムに転送するためのしくみ
このソフトウェアは下記２点で構成される

basicio.h:TWELITEの持つ機能を容易に使用するためのライブラリ
v3.c:basicio.hを使って測定・転送するしくみを構築しているライブラリ

収集されたデータはUARTを用いてラズベリーパイなどに渡すことで、ネットワーク上のデバイスに蓄積することを想定している
旧TWELITE開発環境(MWSDK_201805)を用いている

主な機能
・I2Cなどを用いた測定部分のみコードを記述するが、その他の起床⇒測定⇒送信⇒就寝のような基本部分はv3.cによって自動化されている
・モノスティックなどを用いてパソコンのターミナルからデバイスコードを書き換えることなく設定変更できるようになっている(EEPROMに記憶)。
　　動作モードは以下のとおり。I2Cスレーブもサポートするが動作が不安定。
  　　sleep(定期起床するデバイス)
    　no sleep(中継器などスリープしないデバイス)
      uart masterおよびslave(無線でなくUARTによってデータ転送する)
    スリープ時間または定期測定時間
    デバイスのアドレスおよび送信先アドレス
・すべてのデバイスは送信が成功しない場合に最大５００点までのデータをバッファすることができる
・スリープしないデバイスは上流デバイスから渡された時刻データを保持し利用することができる
・基本的にすべてのデバイスは１日４回程度、電源電圧および温度を測定して送信する
